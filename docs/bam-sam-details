## What are they

SAM (Sequence Alignment/Map) and BAM (Binary Alignment/Map) files are fundamental formats in genomics that store information about how short sequencing reads align to a reference genome. Essentially, they record the precise genomic location where each tiny DNA fragment from your sample maps, serving as a crucial bridge between raw sequencing data and all downstream analyses like variant calling or gene expression. While SAM files are human-readable text, BAM files are their compressed, binary equivalents, designed for highly efficient storage and rapid processing (often accelerated by an accompanying index) of the massive datasets generated by modern sequencing technologies.

## Details

The SAM file's header section, marked by lines starting with `@`, contains essential metadata about the reference genome, tools, and samples, and while technically optional, it is practically required for functional use and compatibility with bioinformatics tools.

```
@HD     VN:1.0  SO:coordinate
@SQ     SN:chr1 LN:248956422
@SQ     SN:chr2 LN:242193529
@RG     ID:sample1_lib1 PL:ILLUMINA SM:SampleA LB:LibraryX DS:My First Sample Data
@PG     ID:bwa  PN:bwa  VN:0.7.17-r1188 CL:/path/to/bwa mem -t 8 ref.fa reads.fq

@HD: Header line specifying SAM format version and sorting order of reads.
@SQ: Sequence Dictionary line defining a reference chromosome name and its length.
@SQ: Another Sequence Dictionary line for a different reference chromosome.
@RG: Read Group line detailing the source of reads (e.g., sample, library, platform).
@PG: Program line describing the software and command used to process the file.
```

The alignment section below the header section has 11 mandatory fields:

``````
read_A001_1	99	chr1	1000	60	100M	=	1150	250	TGGAGGTGCCTTCAGGATTGAAGGGGCCGTGTTGTATGTGGGTTTTTCTGAATCTAGGAGGGAAAGTAGAATAAAAGGCTGAGATTTATTTCCAGCTTCTCCCAGA	JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ	NM:i:1	MD:Z:99G0	AS:i:95	NH:i:1	RG:Z:sample1_lib1

QNAME: The name of the sequencing read.
FLAG: A numerical flag encoding various properties of the alignment.
RNAME: The name of the reference sequence (e.g., chromosome) the read mapped to.
POS: The 1-based leftmost mapping position of the read on the reference.
MAPQ: Mapping Quality, indicating how confidently the read mapped to this location.
CIGAR: A string describing the alignment operations (matches, mismatches, indels, clipping).
MRNM: Reference name of the mate read (or '=' if same as RNAME).
MPOS: 1-based leftmost mapping position of the mate read.
TLEN: Inferred template length (insert size) for paired-end reads.
SEQ: The actual nucleotide sequence of the read.
QUAL: Base quality scores for each nucleotide in the sequence.
NM: Number of mismatches or edit distance. (Optional)
MD: Mismatch/deletion description against the reference sequence.  (Optional)
AS: Aligner's calculated alignment score.  (Optional)
NH: Number of genomic locations this read mapped to (number of hits).  (Optional)
RG: Read group identifier linking to an @RG header record.  (Optional)
```

